name: top
class: center, middle, top-background

<h1 style="line-height:1.5em; font-size:6rem;">Gopher ã¨è¡Œã<br/> Lang ãªæ—…</h1>

<br/>

.title-img[![gopher](images/gophercolor.png)]


---

# Pre test


```golang
func main() {
   println("hello")
}
# comment
```

<button onclick="player.open('/src/blockvar.rb', '/README.md');">Eval</button>

<p><i class="material-icons">account_circle</i> Hello</p>

<div class="center">
<button class="badge badge-pill pl-5 pr-5 pt-3 pb-3">Border </button>
</div>

---
template: inverse

## How does it work, then?

---

# Components


<div class="row mb-4">

  <div class="col-md-4">

    <div class="card">
      <div class="card-header">
        Featured
      </div>
      <div class="card-body">
        <h5 class="card-title">Hello</h5>
        <p class="card-text">
        Detail xxxxxxxx
        </p>
      </div>
    </div>

  </div>
</div>

<div class="row mb-4">

  <div class="col-md-4 mb-4">
	<p class="h1">
	  <span class="badge badge-pill badge-info">Info</span>
	  <span class="badge badge-pill badge-light">Light</span>
	  <span class="badge badge-pill badge-dark">Dark</span>
	</p>
  </div>

  <div class="col-md-4">

    <i class="material-icons">mood_bad</i>
    <i class="material-icons">mood</i>

    <i class="fa fa-link"></i>
    <i class="fa fa-arrow-right"></i>
  </div>
  <div class="col-md-4">

  </div>

</div>

---

## <span class="en">Introduction</span>

<div class="row mt-5 mb-4">
  <div class="col-md-3">
  <h2>Name:</h2>
  </div>
  <div class="col-md-9">
  <h2>xxxxxxxxx</h2>
  </div>
</div>

### Details

.display-2[
- <span><i class="material-icons align-middle">location_city</i> aaaa</span>
- <span><i class="material-icons align-middle">perm_identity</i> ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼</span>
   - <span><i class="material-icons align-middle">assignment_ind</i> é–‹ç™ºéƒ¨åŸºç›¤ãƒãƒ¼ãƒ </span>
]

<div class="row mb-4">
  <div class="col-md-8">
	<p class="h1">
	  <span class="badge badge-pill badge-info">Info</span>
	  <span class="badge badge-pill badge-light">Light</span>
	  <span class="badge badge-pill badge-dark">Dark</span>
	</p>
  </div>
  <div class="col-md-4">
  <p class="bubble">aaaa</p>
  </div>
</div>

---
class: center, middle

.big[å…ˆã«]

---
class: middle


.text-center[
## ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™
]

<p class="strong">
  <span class="badge badge-pill badge-warning align-middle">ğŸ¤“ Data Engineer</span>
  <span class="badge badge-pill badge-primary align-middle">â›‘ Site Reliability Engineer</span>
  <span class="badge badge-pill badge-light">Application Engineer</span>
</p>

.text-center[
ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™
]

---
class: center, middle

.big[
ä»Šæ—¥ã®ãŠè©±
]

.title-img[
![gopher](images/gophercolor.png)
]

---
class: middle

.display-2[
.text-center[
- ã©ã†æ›¸ã„ãŸã‚‰ã„ã„ã®ã‹ï¼Ÿ
- ã©ã‚“ãªè¨€èªãªã®ã‹ï¼Ÿ
]
]

<div class="row justify-content-center mb-4">
  <div class="col-md-5" >
  <p class="bubble display-2" style="width:420px;">ä¸å®‰ã‚’è§£æ±º</p>
 </div>
</div>
<div class="row justify-content-center">
<img alt="gopher" src="images/gophercolor.png" width="10%" height="10%"/>
</div>

---
class: center, middle

## <span class="en">Beginer</span> å‘ã‘ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ãªã‚Šã¾ã™


<p class="strong">
 <span class="badge badge-pill badge-primary"> â˜… </span> <span class="text-primary">Junior</span>
</p>

.display-2[
<span class="badge badge-pill badge-light"> ğŸ˜° </span> Senior (ä¸­ç´šè€…)

<span class="badge badge-pill badge-light"> ğŸ˜± </span> Expert (ä¸Šç´šè€…)
]

---
class: center, middle, eye-bg

.strong[
ãªã®ã§ã€é æ…®ãªãé€”ä¸­ã§

**è³ªå•** or **ä½•ã‹èããŸã„** ã¨ã‹

å¤§ä¸ˆå¤«ã§ã™
]


---

# ğŸ“œ æ¦‚è¦

.display-4[
1. ãã‚‚ãã‚‚ã®è©±
    - Golang ã®åŸºæœ¬çš„ãªã“ã¨ã‚’è¦‹ã¦ã„ãã¾ã™
2. BestPractice12ã®ç´¹ä»‹ã¨ãã®Tips
    - Golang ã®åŸºæœ¬çš„ãªã“ã¨ã‚’è¦‹ã¦ã„ãã¾ã™
3. å„è¨€èª (Each Language) ã®Tips
    - å„è¨€èªã®ç‰¹å¾´ï¼ˆ**ç­†è€…ã®ä¸»è¦³**ï¼‰ã‚’Goã§æ›¸ãã¨ã©ã†ãªã‚‹ã‹
	   - <span class="en">Ruby / Python / Java / Javascript / C#</span>
4. å®Ÿè£…æ‰‹æ³• (Implementation) ã®Tips
    - ä»Šã¾ã§ã‚ã£ãŸãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ**ç­†è€…ã®ä¸»è¦³**ï¼‰ã§Goã§æ›¸ãã¨ã©ã†ãªã‚‹ã‹
	   - <span class="en">Linq / ReactiveX</span>
]



---
class: center, middle


.big[
å§‹ã‚ã¦ã„ãã¾ã™
]

---
class: center, middle

.big[
ãã‚‚ãã‚‚ã®è©±
]

---
## ãã‚‚ãã‚‚ã®è©±

<div class="container border rounded">
<div class="row fh ml-3 ml-3 mt-5" style="height:40vh;">
.display-4[
ã‚‚ã®ã‚’èªè­˜ ã¨ æ‡¸å¿µäº‹é … ã‚’è€ƒæ…®ã—ã¦ å–ã£æ›ã‹ã‚Š ã®è©±
]

.display-3[
<i class="material-icons text-secondary">assistant_photo</i> ä¸å®‰ã®æ§‹æˆè¦ç´  (æ‡¸å¿µäº‹é …)

<i class="material-icons text-secondary">assistant_photo</i> Golangã¨ã¯ ï¼ˆèªè­˜)

<i class="material-icons text-secondary">assistant_photo</i> å§‹ã‚ã‚‹æº–å‚™ ï¼ˆå–ã£æ›ã‹ã‚Šï¼‰
]

</div>
</div>

---
## æºæ³‰ã‚’æ¢ã‚‹

.display-3[
ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã‚„ã‚ŠãŸã„ã“ã¨

- ã‚‚ã®ã‚’ä½œã‚ŠãŸã„
- æŠ€æ³•ã‚’é©åˆ‡ã«åˆ©ç”¨ã—ãŸã„
- å¯„ä¸ã—ãŸã„å¿ƒæƒ…(å“²å­¦ãƒ»æ€æƒ³)ã‚’åæ˜ ã—ãŸã„
]

---
## æºæ³‰ã‹ã‚‰ã®ä¸å®‰è¦ç´ 

.display-4[
- ã‚‚ã®ã‚’ä½œã‚ŠãŸã„
> â†’ å®Ÿè£…ã§ãã‚‹ã‹ï¼Ÿ
- æŠ€æ³•ã‚’é©åˆ‡ã«åˆ©ç”¨ã—ãŸã„
> â†’ æŠ€æ³•ã®é©ç”¨ã§ãã‚‹ã‹ï¼Ÿ  
> â†’ Seniorã€Expert ã®å¨å…‰ï¼ˆãƒã‚¦ãƒ³ãƒ†ã‚£ãƒ³ã‚°ï¼‰
- å¯„ä¸ã—ãŸã„å¿ƒæƒ…(å“²å­¦ãƒ»æ€æƒ³)ã‚’åæ˜ ã—ãŸã„
> â†’ ã„ã¾ã¾ã§ã®çµŒé¨“ã¨ã®æŠ˜ã‚Šåˆã„  
> â†’ æ…£ç¿’ã¨ã®ãƒãƒƒãƒåº¦
]

---

## é–‹ç™ºã®ç”Ÿç”£æ€§

.display-4[
* ã‚‚ã®ã‚’ä½œã‚‹

* è¨­è¨ˆãƒ»å®Ÿè£…ã‚¹ã‚­ãƒ«

* TODO
]

---

.left-column[
  ### ã‚‚ã®ã‚’ä½œã‚‹
]
.right-column[

æ—©ãã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

- ç†è§£ã—ã‚„ã™ã•
- å†—é•·ã«ãªã‚‰ãªã„æ›¸ãã‚„ã™ã•
- IDE, Eco System


æ—©ãç’°å¢ƒæ§‹ç¯‰

- ã‚ªãƒ¼ã‚µãƒªãƒ³ã‚°
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†

æ—©ããƒ­ãƒ¼ãƒ³ãƒ,ãƒ‡ãƒªãƒãƒªãƒ¼

- Build
- Test
- Deploy
]


---

.left-column[
  ### ã‚‚ã®ã‚’ä½œã‚‹
  ### è¨­è¨ˆãƒ»å®Ÿè£…ã‚¹ã‚­ãƒ«
]
.right-column[

xxxæŒ‡å‘

- OOP,FP
- ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•
- and more

Lang

- Syntax Sugar
- Idiom

<i class="material-icons">mood_bad</i> Senior, Expert ã‹ã‚‰ã®ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼

- è¨­è¨ˆãŒããƒ¼
- ã“ã£ã¡ã®è¨€èªã ã¨ãƒ›ã‚²ãƒ›ã‚²ã ã‘ã©ã€ Golangã§ã¯ãƒ•ã‚¬ãƒ•ã‚¬ãŒããƒ¼

]

---

.left-column[
  ### ã‚‚ã®ã‚’ä½œã‚‹
  ### è¨­è¨ˆãƒ»å®Ÿè£…ã‚¹ã‚­ãƒ«
  ### TODO
]
.right-column[

TODO Things 1

- xxxx

TODO Things 2

- one
- two

]

---

## Golang ã¨ã¯

.history-text[
<table class="table">
  <tr>
  <td>
	<i class="icon-python text-success"></i><br/>
	<i class="icon-java-duke"></i>
  </td>
  <td class="align-middle"><i class="icon-ruby text-danger"></i></td>
  <td class="align-middle"><i class="icon-javascript-alt" style="color:gold;"></i></td>
  <td></td>
  <td class="align-middle"><i class="icon-csharp text-success"></i></td>
  <td></td>
  <td></td>
  <td class="align-middle"><i class="icon-go text-info"></i></td>

  <td class="align-middle"><img class="history-img"src="https://upload.wikimedia.org/wikipedia/commons/b/b5/Kotlin-logo.png"/></td>
  <td><img  src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Swift_logo.svg/40px-Swift_logo.svg.png"/></td>
  <td></td>
  </tr>
<tr class="en">
<td>1991</td>
<td>1993</td>
<td>1994</td>
<td>1995</td>
<td>2002</td>
<td>2006</td>
<td>2007</td>
<td>2009</td>
<td>2011</td>
<td>2014</td>
<td></td>
</tr>
  <tr>
  <td></td>
  <td></td>
  <td><img class="history-img" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Sega-Saturn-Console-Set-Mk1.jpg/1920px-Sega-Saturn-Console-Set-Mk1.jpg"  /></td>
  <td><img class="history-img" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/PSX-Console-wController.png/280px-PSX-Console-wController.png"/></td>
  <td>3G</td>
  <td><img class="history-img" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/PS3Versions.png/250px-PS3Versions.png"/></td>
  <td>iPhone</td>
  <td></td>
  <td>4G</td>
  <td></td>
  <td></td>
  </tr>
</table>

]


<small>
[ãƒ—ãƒ­ã‚°ãƒ©ãƒ å¹´è¡¨ wikipediaã‚ˆã‚Š](https://ja.wikipedia.org/wiki/%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E%E5%B9%B4%E8%A1%A8)
</small>
https://bridgera.com/5g-promises-new-horizons-for-iot/

http://wiki.c2.com/?AntiPatternsCatalog
https://dmitri.shuralyov.com/idiomatic-go


---

## Golang ã¨ã¯


* expressive
* concise
* clean
* efficient


<img src="images/what-is-golang.png" width="60%"/>

---
## ãã‚‚ãã‚‚ã®è©±

<div class="container border rounded">
<div class="row fh ml-3 ml-3 mt-5" style="height:40vh;">
.display-4[
ã‚‚ã®ã‚’èªè­˜ ã¨ æ‡¸å¿µäº‹é … ã‚’è€ƒæ…®ã—ã¦ å–ã£æ›ã‹ã‚Š ã®è©±
]

.display-3[
<i class="material-icons text-info">assistant_photo</i> Golangã¨ã¯ ï¼ˆèªè­˜ï¼‰ï¸

<i class="material-icons text-secondary">assistant_photo</i> é–‹ç™ºã®è¦ç´  (æ‡¸å¿µäº‹é …)

<i class="material-icons text-secondary">assistant_photo</i> å§‹ã‚ã‚‹æº–å‚™ ï¼ˆå–ã£æ›ã‹ã‚Šï¼‰
]

</div>
</div>


---

## å–ã£æ›ã‹ã‚Šã¨ã—ã¦

TODO

---
## ã‚³ãƒ©ãƒ .1

<div class="center">
.strong[
<p class="bubble">
å¤§äº‹ãªäº‹ã¯ç›®ã§ã¯è¦‹ãˆãªã„ã‚ˆ<br/>
å¿ƒã§è¦‹ãªã„ã¨
</p>
]
</div>

---


ãã‚‚ãã‚‚


- Goè¨€èªã£ã¦

   - æ­´å²
   - é›‘ãªãŠè©±

https://www.golang-book.com/books/intro

- ä¸å®‰ã«è¦ç´ 

   - senior,expert ã‹ã‚‰ã®ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼
   -


- ä½•ã‹ã‚‰å§‹ã‚ãŸã‚‰


-

---
class: center, middle

.big[
.en[Go Bestpractice Tips]
]

---

# BestPractices ã®ç´¹ä»‹ã¨æŒ¯ã‚Šè¿”ã‚Š

[Twelve Go BestPractices](https://talks.golang.org/2013/bestpractices.slide#1) ã‚ˆã‚ŠGolangã®æ›¸ãæ–¹ã®ã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†


.left-split[

1. Avoid nesting by handling errors first
2. Avoid repetition when possible
3. Important code goes first
4. Document your code
5. Shorter is better
6. Packages with multiple files
7. Make your packages "go get"-able
8. Ask for what you need
9. Keep independent packages independent
10. Avoid concurrency in your API
11. Use goroutines to manage state
12. Avoid goroutine leaks
]

.right-split[
    <img src="images/go-talks.png" width="50%">
]

<a class="badge badge-pill badge-info" href="https://talks.golang.org/"> Go Talks <i class="fa fa-arrow-right"></i></a>

---

## Twelve Best Practice ?


.left-split[
.text-center[
<img src="images/bestpractice-about.png" width="90%"/>  
Developer Advocate for the Go team at Google and for Google Cloud Platform
]
]
.left-split[
.text-center[
<img src="images/talk-bestpractice.png" width="90%" />

Go talks 2013
]
]


---

## Twelve BestPractice TipsãŠã•ã‚‰ã„

```bash
 Beginner ã¯ã“ã“ã‹ã‚‰
1. Avoid nesting by handling errors first
2. Avoid repetition when possible
3. Important code goes first
4. Document your code

 ä¸­ç´šã«å‘ã‘ã¦
5. Shorter is better
6. Packages with multiple files
7. Make your packages "go get"-able
8. Ask for what you need
9. Keep independent packages independent

 ä¸­ç´šä»¥ä¸Šã®ãŠè©±
10. Avoid concurrency in your API
11. Use goroutines to manage state
12. Avoid goroutine leaks
```


---

## Some code

```golang
type Gopher struct {
    Name     string
    AgeYears int
}
```

```golang
func (g *Gopher) WriteTo(w io.Writer) (size int64, err error) {
    err = binary.Write(w, binary.LittleEndian, int32(len(g.Name)))
    if err == nil {
        size += 4
        var n int
        n, err = w.Write([]byte(g.Name))
        size += int64(n)
        if err == nil {
            err = binary.Write(w, binary.LittleEndian, int64(g.AgeYears))
            if err == nil {
                size += 4
            }
            return
        }
        return
    }
    return
}
```


---

## 1. Avoid nesting by handling errors first

```golang
func (g *Gopher) WriteTo(w io.Writer) (size int64, err error) {
    err = binary.Write(w, binary.LittleEndian, int32(len(g.Name)))
    if err != nil {
        return
    }
    size += 4
    n, err := w.Write([]byte(g.Name))
    size += int64(n)
    if err != nil {
        return
    }
    err = binary.Write(w, binary.LittleEndian, int64(g.AgeYears))
    if err == nil {
        size += 4
    }
    return
}
```

---

## 2. Avoid repetition when possible

```golang
type binWriter struct {
    w    io.Writer
    size int64
    err  error
}

func (w *binWriter) Write(v interface{}) {
    if w.err != nil {
        return
    }
    if w.err = binary.Write(w.w, binary.LittleEndian, v); w.err == nil {
        w.size += int64(binary.Size(v))
    }
}
```

```golang
func (g *Gopher) WriteTo(w io.Writer) (int64, error) {
    bw := &binWriter{w: w}
    bw.Write(int32(len(g.Name)))
    bw.Write([]byte(g.Name))
    bw.Write(int64(g.AgeYears))
    return bw.size, bw.err
}
```

---

## 3. Important code goes first

ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã€ãƒ“ãƒ«ãƒ‰ã‚¿ã‚°(Build Tags)ã€package ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
import æ–‡ã‚’é–¢ä¿‚ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—æ¯ã« blank line ã§åˆ†ã‘ã¾ã—ã‚‡ã†

```golang
import (
    "fmt"
    "io"
    "log"

    "golang.org/x/net/websocket"
)
```

é‡è¦ãª type ã‹ã‚‰å§‹ã‚ã¦ã€æœ€å¾Œã®æ–¹ã«è£œåŠ©çš„ãª func, type ã‚’è¨˜è¿°ã™ã‚‹

---
## 4. Document your code

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã®å‰ã«å†…å®¹ã‚’æ›¸ãã¾ã—ã‚‡ã†  
<span class="text-muted">Package name, with the associated documentation before. </span>

```golang
// Package playground registers an HTTP handler at "/compile" that
// proxies requests to the golang.org playground service.
package playground
```

å¤–éƒ¨å…¬é–‹ã™ã‚‹ã‚‚ã®ã¯ã€ã¡ã‚ƒã‚“ã¨æ›¸ãã¾ã—ã‚‡ã†  
<span class="text-muted">Exported identifiers appear in godoc, they should be documented correctly.</span>

```golang
// Author represents the person who wrote and/or is presenting the document.
type Author struct {
    Elem []Elem
}

// TextElem returns the first text elements of the author details.
// This is used to display the author' name, job title, and company
// without the contact details.
func (p *Author) TextElem() (elems []Elem) {
```

<a class="badge badge-pill badge-info" href="https://blog.golang.org/godoc-documenting-go-code" target="_blank"> Godoc: documenting code <i class="fa fa-arrow-right"></i></a>

---

## 5. Shorter is better

é•·ã„åå‰ã¯ã„ã„ã¨ã¯é™ã‚‰ãªã„ã‚ˆ  
<span class="text-muted">or at least longer is not always better.</span>

è‡ªæ˜ãªçŸ­ã„åå‰ã‚’ä»˜ã‘ã¾ã—ã‚‡ã†  
<span class="text-muted">Try to find the shortest name that is self explanatory</span>

*  **MarshalWithIndentation** ã‚ˆã‚Š **MarshalIndent** ãŒå¥½ã¾ã—ã„

packageåã¯ import ã‚’è¡Œã£ãŸã§ prefix ã¨ã—ã¦åˆ©ç”¨ã—ã¾ã™  
<span class="text-muted">Don't forget that the package name will appear before the identifier you chose. </span>

```golang
pacakge json

var (
    JSONEncoder = someThing{} // bad
    Encoder = someThing{}     // good
)
```

```golang
import "json"

json.JSONEncoder.foo() // bad
json.Encoder.foo()     // good

```

---

## 6. Packages with multiple files

* é•·ã„ï¼ˆå¤§ãã„ï¼‰ãƒ•ã‚¡ã‚¤ãƒ«ã¯é¿ã‘ã‚‹
* code ã¨ testcode ã¯åˆ†ã‘ã‚‹ ï¼ˆtest code ã¯ãƒ†ã‚¹ãƒˆã®æ™‚ã®ã¿ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¾ã™ï¼‰
* package ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯åˆ†ã‘ã‚‹

.text-center[
    <i class="icon-go text-primary" aria-hidden="true"></i> package ãŒå¤§ãããªã‚‹ã‚ˆã†ãªã‚‰ doc.go ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãäº‹ã¨ã„ã„ã§ã™
    <br/><br/>
    <img src="images/http-pkg.png" width="50%">
]


???

httpãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ãã®ã‚ˆã†ãªå½¢ã‚’ã¨ã£ã¦ã„ã¾ã™

---

## Make your packages "go get"-able

<code class="remark-inline-code inline-b">"go get"</code> å¯èƒ½ãªå˜ä½ã§packageã‚’ä½œæˆã—ã¾ã—ã‚‡ã†

* ã‚³ãƒãƒ³ãƒ‰ç­‰ã¯å†åˆ©ç”¨ã§ããªã„ã‚‚ã®ã‚‚ã‚ã‚‹
* å†åˆ©ç”¨å¯èƒ½ãªã‚‚ã®ã¯ãã®å˜ä½


---

## 8. Ask for what you need

```golang
type Gopher struct {
    Name     string
    AgeYears int
}
```

```golang
// 1. method å®šç¾©ãŒã§ãã¾ã™
func (g *Gopher) WriteToFile(f *os.File) (int64, error) {

// 2. å…·ä½“çš„ãªå‹ã¯ãƒ†ã‚¹ãƒˆã—ã«ãã„ã®ã§ã€Interfaceã‚’åˆ©ç”¨ã™ã‚‹
func (g *Gopher) WriteToReadWriter(rw io.ReadWriter) (int64, error) {

// 3. é–¢æ•°ã§å¿…è¦ãªã“ã¨ã«ã‚’æ¤œè¨ã™ã‚‹ io.ReaderWriter â†’ io.Writer
func (g *Gopher) WriteToWriter(f io.Writer) (int64, error) {
```

Ã— ãƒ•ã‚¡ã‚¤ãƒ«ã¸æ›¸ãè¾¼ã¿ãŸã„

ã€€ã€€â†“â†“â†“

â—¯ æƒ…å ±ã‚’æ›¸ãè¾¼ã¿ãŸã„

---

## 9. Keep independent packages independent

```golang
import (
    "golang.org/x/talks/2013/bestpractices/funcdraw/drawer"
    "golang.org/x/talks/2013/bestpractices/funcdraw/parser"
)
```

```golang
    // Parse the text into an executable function.
    f, err := parser.Parse(text)
    if err != nil {
        log.Fatalf("parse %q: %v", text, err)
    }

    // Create an image plotting the function.
    m := drawer.Draw(f, *width, *height, *xmin, *xmax)

    // Encode the image into the standard output.
    err = png.Encode(os.Stdout, m)
    if err != nil {
        log.Fatalf("encode image: %v", err)
    }
```

---

## ãã®ä»–ã®Tips


.display-4[
10ï¼ Avoid concurrency in your API  
11ï¼ Use goroutines to manage state  
12ï¼ Avoid goroutine leaks

ä»Šå›ã¯å‰²æ„›ã—ã¾ã™
]


---

## å°ã¾ã¨ã‚


---
class: center, middle


.big[
å„è¨€èªã® .en[Tips]
]

---
## <i class="icon-java-duke"></i> <i class="icon-python text-success"></i> Class(ã‚¯ãƒ©ã‚¹) ã®ç¶™æ‰¿

<div class="text-center mermaid">
graph LR;
    Child-- ç¶™æ‰¿ -->Parent;

</div>


.left-split[

```java
// Java
class Parent {
    public void say() { System.out.println("parent"); }
}

class Child extends Parent {
    public void say() { System.out.println("child"); }
}
```

<button class="btn btn-raised" onclick="player.open('/src/clz.java', '/src/clz.py');">Eval</button>

]

.right-split[
```python
// python
class Parent:

    def say(self):
        print('parent')

class Child(Parent):

    def say(self):
        print('child')
```
]


---
## <i class="icon-go"></i> Class(ã‚¯ãƒ©ã‚¹) Example

```golang
package main

type Parent struct {}
func (p Parent) say() string {return "parent" }
func (p Parent) Print() { println(p.say())}
func (p Parent) Hello() { println(p.say())}

type Child struct { Parent }
func (c Child) say() string {return "child" }
// Print() ã¯ Parent ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹
func (c Child) Hello() { println(c.say()) }

```

<button class="btn btn-raised" onclick="player.open('/src/clz.go');">Eval</button>


child ã® Hello() ã¯ "child" ã¨å‡ºåŠ›ã™ã‚‹ãŒã€Print() ã¯ "parent" ã¨å‡ºåŠ›ã—ã¾ã™

---
## <i class="icon-go"></i> Class(ã‚¯ãƒ©ã‚¹) Summary


[Effectiive Go#Embedding](https://golang.org/doc/effective_go.html#embedding)

Go does not provide the typical, type-driven notion of subclassing, ...

Golang ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’æä¾›ã—ã¦ã„ãªã„ã®ã§ã€interface ã‚’å®šç¾©ã—ã¦ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’ç´¹ä»‹ã—ã¦ã¾ã™


```golang
type Say interface {
	Print()
}

type Person struct {
	Say
}

type sayParent struct {}
func (p *sayParent) Print() { println("parent") }

type sayChild struct {}
func (p *sayChild) Print() { println("child") }

```

<button class="btn btn-raised" onclick="player.open('/src/clz_summary.go');">Eval</button>


---
## <i class="icon-ruby text-danger"></i> Ruby block variable

```ruby
[1, 2, 3].each do |i|
    put i*2
end
```

.text-right[
<a class="badge badge-pill badge-info" href="http://docs.ruby-doc.com/docs/ProgrammingRuby/html/intro.html#S6" target="_blank">docs: Blocks and Iterators <i class="fa fa-arrow-right"></i></a>
]

```ruby
class List
  def initialize(arr)
    @arr = arr
  end
  def each
    i = 0
    while i < @arr.length
      yield @arr[i]
      i += 1
    end
  end
end
```

<button class="btn btn-raised" onclick="player.open('/src/blockvar.rb');">Eval</button>

---
## <i class="icon-go"></i> Ruby block variable: Example

```golang
type Person struct {
    Name string
}

type People []Person

func (pp People) Each(hfn func(i int, p Person)) {
  for i, p := range pp {
     hfn(i, p)
  }
}

func main() {
   people := People{ Person{"tom"}, Person{"bom"} }

   names := []string{}
   people.Each(func(i int, p Person) {
       names = append(names, p.Name)
   })
   println(strings.Join(names, ","))
}
```

<button class="btn btn-raised" onclick="player.open('/src/blockvar.go');">Eval</button>

---
## <i class="icon-go"></i> Ruby block variable: Summary


---
## <i class="icon-javascript-alt" style="color:gold;"></i> <i class="icon-csharp text-success"></i> async, await


<i class="icon-javascript-alt display-4" style="color:gold;"></i> ã® async/await

- async : éåŒæœŸå‡¦ç†é–¢æ•°ã‚’å®šç¾©ã™ã‚‹ <a class="badge badge-pill badge-info" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank">async <i class="fa fa-external-link-alt"></i></a>
- await : Promiseã®resolve, reject ã®çµæœã‚’å¾…ã¤  
awaitã¯asyncã®é–¢æ•°å†…ã§ã—ã‹ä½¿ãˆãªã„ <a class="badge badge-pill badge-info" href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/await" target="_blank">async <i class="fa fa-external-link-alt"></i></a>


<i class="icon-csharp text-success display-4"></i> ã® async/await

- async <a class="badge badge-pill badge-info" href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/keywords/async" target="_blank"> async <i class="fa fa-arrow-right"></i></a>
- await <a class="badge badge-pill badge-info" href="https://docs.microsoft.com/ja-jp/dotnet/csharp/language-reference/keywords/await" target="_blank"> await  <i class="fa fa-external-link-alt"></i></a>


---

## <i class="icon-javascript-alt" style="color:gold;"></i> <i class="icon-csharp text-success"></i> async, await éåŒæœŸå‡¦ç†


.left-split[

```js
function wait(waitSec) {
  return new Promise(resolve => {
    setTimeout(_ => {
      resolve(`resolved:${waitSec}`);
    }, waitSec);
  });
}

async function awaitNumsWait(nums) {
  while ( (num = nums.shift()) !== undefined ) {
    const result = await wait(num);
    console.log(`await [${result}]`);
  }
}

async function asyncNumsWait(nums) {
  Promise.all(nums.map(n => {
    return wait(n);
  })).then(values => {
	return console.log('asyncDone::' +values.join(','));
  });
}
```
]

.right-split[
```js
async function awaitAndAsyncCall(nums) {
  asyncNumsWait(nums);
  awaitNumsWait(nums);
  return 'awaitAndAsyncCall::done';
}

const nums = [2000, 1000, 1500];
awaitAndAsyncCall(nums).then((msg) => {
  console.log(msg);
});
```
]

---

## async, await éåŒæœŸå‡¦ç†


<div class="text-center mermaid">
sequenceDiagram
    Process ->> AsyncLogic: éåŒæœŸå‡¦ç†
    AsyncLogic ->> BackendLogic1: ä½•ã‹ã®å‡¦ç†
    AsyncLogic ->> BackendLogic2: ä½•ã‹ã®å‡¦ç†
    Process ->> Process: ä»–ã®å‡¦ç†
    Note right of Process: Text in note
</div>


---
## <i class="icon-go"></i> async, await: Example

.left-split[

```golang
func asyncFunc(sleep time.Duration, start time.Time) {
	time.Sleep(sleep)
	elapsed("async", start)
}

func awaitFunc(wg *sync.WaitGroup, sleep time.Duration, start time.Time) {
	defer wg.Done()
	// do somethig
	time.Sleep(sleep)
	elapsed("await", start)
}

```
]


.right-split[

```golang
func main() {
	start := time.Now()
	nums := []time.Duration{ 2 * time.Second, time.Second, 1500 * time.Millisecond }
	
	// async finished
	for _, sec := range nums {
		go asyncFunc(sec, start)
	}

	// await
	await := new(sync.WaitGroup)
	for _, sec := range nums {
		await.Add(1)
		go awaitFunc(await, sec, start)
	}
	await.Wait()

	println("finish")
}
```
]

---
## <i class="icon-go"></i> async, await: Summary


<span class="bg-info h1">async</span>

* go routine ã§å®Ÿè¡Œã™ã‚Œã°å¤§ä¸ˆå¤«
* å¾…ãŸãªã„ã¨ãã®ã¾ã¾ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚ã‚ã‚Šã¾ã™

<span class="bg-info h1">await</span>

* æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® WaitGroup ã‚’åˆ©ç”¨ã™ã‚Œã°å¤§ä¸ˆå¤«
* 1ã¤ã®å‡¦ç†ãªã‚‰å˜ç´”ã«é–¢æ•°ã‚’ãã®ã¾ã¾å‘¼ã¶


<span class="bg-info h1"> <i class="icon-go"></i> golang </span>

* 



---
## <i class="icon-java-duke"></i>  annotation, <i class="icon-python text-success"></i> decorator

.left-split[
```java
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

@Target(ElementType.METHOD) // ãƒ¡ã‚½ãƒƒãƒ‰ã«ã—ã‹ä»˜ã‘ã‚‰ã‚Œã¾ã›ã‚“
public @interface Option {
    boolean isActive() default false;
}

class Api {

  @Option(isActive = true)
  public void get() String {
     return "get";
  }

  @Option
  public void put() String {
     return "put";
  }
}
```
]

.right-split[

```python
def api_option(fn):
    def func_wrapper():
        return "wrap[{0}]".format(fn())
    return func_wrapper

@api_option
def say():
    return 'say'

def hello():
    ''' no decrated function '''
    return 'hello'
```
]

---
## <i class="icon-java-duke"></i>  annotation, <i class="icon-python text-success"></i> decorator

Java annotation


---
## <i class="icon-java-duke"></i>  annotation, <i class="icon-python text-success"></i> decorator

Pyhon decorator


---
## <i class="icon-go"></i>  anotation, decorator: Example


```golang
// api function
type ApiFunc func() string

// function adpter
func ApiOption(fn ApiFunc, isActive bool) ApiFunc {
  if isActive {
    return func() string {
       return fmt.Sprintf("wrap [%s]", fn())
    }
  }
  return fn  
}

func Get() string { return "get" }

type Api struct {
    Get ApiFuc `option:"active=true"`
    Put ApiFuc `option:"active=false"`
}


```


---
## <i class="icon-go"></i>  anotation, decorator: Sumamry

---
## <i class="icon-java-duke"></i>  interface, <i class="icon-python text-success"></i> duck typing


.left-split[

```java
interface Animal {
    void run() throws RuntimeException
}

class Dog implements Animal {
    @Override
    public void run() throws RuntimeException {
        System.out.println("wow");
    }
}

class Cat implements Animal {
    @Override
    public void run() throws RuntimeException {
        System.out.println("miao");
    }
}

public class Main {

    publc static void main(String[] args) {
        Animal dog = new Dog();
        Animal cat = new Cat();
        dog.run();
        cat.run()
    }
}    

```
]

.right-split[

```python
# anima.run

class Dog:

   def run():
       print('wow')

class Dog:

   def run():
       print('wow')


dog = new Dog
cat = new Cat

dog.run
cat.run

```
]


---
## <i class="icon-go"></i> interface, duck typing: Example

---
## <i class="icon-go"></i> interface, duck typing: Summary


---
class: center, middle

.big[å®Ÿè£…Tips]


---

## Linq

ãƒ‡ãƒ¼ã‚¿ã«é›†åˆå¯¾ã—ã¦

* æ¨™æº–åŒ–ã—ãŸæ–¹å¼ã§è³­åˆã‚ã›ã‚’å¯èƒ½ã«ã—ãŸæŠ€è¡“
* è¨€èªãƒ¬ãƒ™ãƒ«ã§é«˜éšé–¢æ•°ã‚’åˆ©ç”¨ã—ã¦è³­åˆã‚ã›ã§ãã‚‹ã‚‚ã®

```csharp
  // Specify the data source.
  int[] scores = new int[] { 97, 92, 81, 60 };
  // Define the query expression.
  IEnumerable<int> scoreQuery =
      from score in scores
      where score > 80
      select score;
  // Execute the query.
  foreach (int i in scoreQuery) {
      Console.Write(i + " ");
  }
```


### References

- [Wikipedia EN](https://en.wikipedia.org/wiki/Language_Integrated_Query) /  [Wikipedia JA](https://ja.wikipedia.org/wiki/%E7%B5%B1%E5%90%88%E8%A8%80%E8%AA%9E%E3%82%AF%E3%82%A8%E3%83%AA)
- [C# Programming concepts](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/)
- go-linq [godoc](https://godoc.org/github.com/ahmetb/go-linq) / [github](https://github.com/ahmetb/go-linq)


---
## Linqã€€Example


---
## Linqã€€Summary


---
## ReactiveX

<div class="text-center mermaid">
graph LR;
    start((Start)) --> e1((Event1));
    e1((Event1)) --> e2((Event2));
    e2((Event2)) --> e3((Event3));
    e3((Event3)) --> fin((Finish));

    style start fill:#2cb5e8;
    style fin fill:#2cb5e8;
</div>



* Observer, Iterator ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ Functional Programming ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’çµ„ã¿åˆã‚ã›ãŸã‚‚ã®
* 


#### References

- [ReactiveX](http://reactivex.io/)
   - [ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–å®£è¨€](https://www.reactivemanifesto.org/ja)
- [RxGo github](https://github.com/ReactiveX/RxGo)


---
## ReactiveX Exmaple

---
## ReactiveX Sumamry




---
class: center, middle

.big[ã¾ã¨ã‚]


---

ï¼‘ã€æ¦‚è¦

- éå»ã®ç™ºè¡¨ã§ã‚ã£ãŸ BestPracticeï¼‘ï¼’ã¨ã„ã‚ã„ã‚ãªè¨€èªã‚„å®Ÿè£…è¨˜è¿°ã®Tipsã‚’ãƒ™ãƒ¼ã‚¹ã«
  BestPracticeãªéƒ¨åˆ†ã‚’Pickupã—ã¦ãè©±ã‚’èª¬æ˜ã—ã¾ã™
- ç™ºè¡¨ã«ãŠã‘ã‚‹ Best Practice ã®èª¬æ˜ã—ã¾ã™
   * Golang ã®è‰¯ã• simple, readable, maintainable ã‚’è»¸ã¨ã—ã¦ã„ã‚‹æ—¨ã®èª¬æ˜
   * Tipsã¨ã®ã‚¨ãƒƒã‚»ãƒ³ã‚¹ã‹ã‚‰æ©æµã‚„Golangï¼ˆç­†è€…ï¼‰è¦–ç‚¹ã§ã®è€ƒå¯Ÿ
-

---

ï¼’ã€ BestPracticeï¼‘ï¼’ã®TipsãŠã•ã‚‰ã„

* Beginner å‘ã‘ (ã“ã‚Œã‚’å®ˆã‚Œã‚‹ã ã‘ã§ã‚‚ååˆ†ã™ã”ã„ã§ã™ãªè©±)
1. Avoid nesting by handling errors first
2. Avoid repetition when possible
3. Important code goes first
4. Document your code

* ä¸­ç´šã«å‘ã‘ã¦ (çŸ¥ã‚‰ãšã«ä¸­ç´šè€…ã®ä»²é–“å…¥ã‚Šã§ã™ãªè©±)
5. Shorter is better
6. Packages with multiple files
7. Make your packages "go get"-able
8. Ask for what you need
9. Keep independent packages independent

* ä¸­ç´šã‹ã‚‰ã®ï¼ˆçœç•¥ï¼‰
10. Avoid concurrency in your API
11. Use goroutines to manage state
12. Avoid goroutine leaks

---
ï¼“ã€ è¨€èªã®Tips

- Java,Python ... : Class ç¶™æ‰¿ã½ã„Tips
  * ï¼ˆã‚¨ãƒƒã‚»ãƒ³ã‚¹ï¼‰æ‚ªæ‰‹ã«ãªã‚ŠãŒã¡ãªã®ã§ã‚„ã‚ã‚ˆã†
- Ruby block variable : ãƒ–ãƒ­ãƒƒã‚¯å¤‰æ•°ã½ã„ Tips
  * ï¼ˆã‚¨ãƒƒã‚»ãƒ³ã‚¹ï¼‰Slap ã«ãªã£ã¦ã‚Œã°OKãªã®ã‹ã‚‚
- JS,C# await async
  * ï¼ˆã‚¨ãƒƒã‚»ãƒ³ã‚¹ï¼‰goruotine ã‚’æ›¸ã“ã†
- Java,Python
  * annotation, decorator
  * Interface, duck typing
  * ï¼ˆã‚¨ãƒƒã‚»ãƒ³ã‚¹ï¼‰èª°å¾—ã‹ã¯ã‚¢ãƒŠã‚¿æ¬¡ç¬¬ãªè©±

---
ï¼”ï¼Œå®Ÿè£…Tips

- Linq
  * ï¼ˆã‚¨ãƒƒã‚»ãƒ³ã‚¹ï¼‰Slice ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã¨å¬‰ã—ã„ã‚ˆã­

- ReactiveX
  * ï¼ˆã‚¨ãƒƒã‚»ãƒ³ã‚¹ï¼‰æ›¸ã‘ã‚‹ã¨ã‹ã£ã“ã„ã„ã‹ã‚‚ã—ã‚Œãªã„ã‘ã©ã€å®—æ•™æˆ¦äº‰ã¿ãŸã„ã«ãªã£ãŸã‚Š
   ãã‚‚ãã‚‚ãŒã‚‚ã† simple ã˜ã‚ƒãªã„

---
ï¼•ã€ ã¾ã¨ã‚

 - Tipsè¦ç´ ã‚’å¼•ãã¨ Golang ã®å½¢ã«ãªã‚‹æ—¨ã‚’èª¬æ˜
 - go 2.x ã§ generics ãŒå…¥ã„ã‚‹äº‹ã¸ã®æ€ã„
   - go 2 ã® survey summary ã«ã‚‚è§¦ã‚Œã¤ã¤
 - Demo tips ã‚’çµ¡ã‚ãŸã‚³ãƒ¼ãƒ‰å®Ÿè£…ä¾‹(Optional ç™ºè¡¨ã«é–“ã«åˆãˆã°)
